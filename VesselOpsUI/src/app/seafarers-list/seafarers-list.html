<div class="container mt-4">
  <div class="card shadow-sm border-0">
    <div class="card-header bg-white py-3 d-flex justify-content-between align-items-center">
      <h5 class="mb-0 fw-bold text-marine">Crew Roster</h5>
      <span class="badge bg-secondary">{{ crewList.length }} Members Found</span>
    </div>
    <div class="card-body p-0">
      
      <!-- Only show table if we have data -->
      <table class="table table-hover mb-0" *ngIf="crewList.length > 0">
        <thead class="table-light">
          <tr>
            <th class="ps-4">Name</th>
            <th>Rank</th>
            <th>Nationality</th>
            <th class="text-end pe-4">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let member of crewList" class="align-middle">
            <td class="ps-4">
              <div class="d-flex align-items-center">
                <!-- Check if photoUrl exists, otherwise use a placeholder -->
                <img [src]="member.photoUrl ? 'assets/' + member.photoUrl : 'assets/Nikolay.png'" 
                     class="rounded-circle border me-3" 
                     style="width: 40px; height: 40px; object-fit: cover;">
                <span class="fw-bold">{{ member.fullName }}</span>
              </div>
            </td>
            <td><span class="badge bg-primary-subtle text-primary border">{{ member.rank }}</span></td>
            <td>{{ member.nationality }}</td>
            <td class="text-end pe-4">
        <button class="btn btn-sm btn-primary" [routerLink]="['/seafarers/personal', member.id]">
          View Details
                    </button>
            </td>
          </tr>
        </tbody>
      </table>

      <!-- Show this if the database is actually empty -->
      <div *ngIf="crewList.length === 0" class="p-5 text-center">
        <div class="spinner-border text-primary mb-2"></div>
        <p class="text-muted">Loading crew from SQL Server...</p>
      </div>

    </div>
  </div>
</div>